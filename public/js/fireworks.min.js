var iOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),ff=navigator.userAgent.indexOf("Firefox")>0,tap="ontouchstart"in window||navigator.msMaxTouchPoints?"touchstart":"mousedown";iOS&&document.body.classList.add("iOS");var fireworks=function(){var a=function(){return parseFloat(getComputedStyle(document.documentElement).fontSize)},b=document.querySelector(".fireworks"),c=b.getContext("2d"),d=24,e=200,f=0,g=0,h=[],i=function(){b.width=window.innerWidth,b.height=window.innerHeight},j=function(a){f=a.clientX||a.touches[0].clientX,g=a.clientY||a.touches[0].clientY},k=["#FF324A","#31FFA6","#206EFF","#FFFF99"],l=function(a,b){var d={};return d.x=a,d.y=b,d.color=k[anime.random(0,k.length-1)],d.color="#FFF",d.radius=0,d.alpha=1,d.lineWidth=6,d.draw=function(){c.globalAlpha=d.alpha,c.beginPath(),c.arc(d.x,d.y,d.radius,0,2*Math.PI,!0),c.lineWidth=d.lineWidth,c.strokeStyle=d.color,c.stroke(),c.globalAlpha=1},d},m=function(b,d){var e={};return e.x=b,e.y=d,e.color=k[anime.random(0,k.length-1)],e.radius=anime.random(a(),2*a()),e.draw=function(){c.beginPath(),c.arc(e.x,e.y,e.radius,0,2*Math.PI,!0),c.fillStyle=e.color,c.fill()},e},n=function(a,b){for(var c=[],e=0;e<d;e++){var f=m(a,b);c.push(f)}return c},o=function(a){var b=h.indexOf(a);b>-1&&h.splice(b,1)},p=function(b,c){i();var d=n(b,c),f=l(b,c),g=anime({targets:d,x:function(a){return a.x+anime.random(-e,e)},y:function(a){return a.y+anime.random(-e,e)},radius:0,duration:function(){return anime.random(1200,1800)},easing:"easeOutExpo",complete:o}),j=anime({targets:f,radius:function(){return anime.random(8.75*a(),11.25*a())},lineWidth:0,alpha:{value:0,easing:"linear",duration:function(){return anime.random(400,600)}},duration:function(){return anime.random(1200,1800)},easing:"easeOutExpo",complete:o});h.push(g),h.push(j)};anime({duration:1/0,update:function(){c.clearRect(0,0,b.width,b.height),h.forEach(function(a){a.animatables.forEach(function(a){a.target.draw()})})}});return document.addEventListener(tap,function(a){j(a),p(f,g)},!1),window.addEventListener("resize",i,!1),{boom:p}}();
